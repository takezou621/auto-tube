generator client {
  provider = "prisma-client-py"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Project {
  id            String            @id @default(uuid()) @db.Char(36)
  createdAt     DateTime          @default(now())
  title         String
  location      String
  highlight     String
  audience      String
  duration      String
  tone          String
  callToAction  String
  summary       String
  sections      ProjectSection[]
  scenes        ProjectScene[]
  storyboards   ProjectStoryboard[]
}

model ProjectSection {
  id        Int      @id @default(autoincrement())
  order     Int
  title     String
  body      String
  project   Project  @relation(fields: [projectId], references: [id], onDelete: Cascade)
  projectId String   @db.Char(36)
}

model ProjectScene {
  id        Int      @id @default(autoincrement())
  order     Int
  cue       String
  description String
  project   Project  @relation(fields: [projectId], references: [id], onDelete: Cascade)
  projectId String   @db.Char(36)
}

model ProjectStoryboard {
  id          Int      @id @default(autoincrement())
  order       Int
  shotType    String
  brollIdea   String
  keyMessage  String
  overlayText String
  project     Project  @relation(fields: [projectId], references: [id], onDelete: Cascade)
  projectId   String   @db.Char(36)
}
